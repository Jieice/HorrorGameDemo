# 手动集成测试指南

## 测试步骤

### 步骤 1: 在 Godot 编辑器中打开项目
1. 打开 Godot 编辑器
2. 打开项目 `d:\Games\GodotDemo\horror_demo`
3. 导航到 `Scene/test_mask_integrity.tscn`

### 步骤 2: 运行测试场景
1. 点击播放按钮运行 `test_mask_integrity.tscn`
2. 查看控制台输出验证系统初始化

### 步骤 3: 验证面具完整度系统
按以下键测试不同功能:

**空格键:** 减少面具完整度 5 点
- 观察控制台输出确认变化
- 查看UI进度条是否更新
- 验证颜色是否正确变化

**R键:** 重置面具完整度
- 验证完整度回到初始值

### 步骤 4: 测试交互对象
移动到场景中的三个测试对象:

**TestObject1 (简单交互):**
- 按 E 键交互
- 验证面具完整度减少 5 点
- 验证内心独白显示

**TestObject2 (选择交互):**
- 按 E 键交互
- 选择不同选项
- 验证不同面具影响

**TestObject3 (任务交互):**
- 按 E 键交互
- 验证任务被添加
- 完成任务验证面具影响

### 步骤 5: 验证UI显示
检查以下UI元素:
- [ ] 面具完整度标签显示正确
- [ ] 进度条位置和颜色正确
- [ ] 内心独白文本显示
- [ ] 选择对话框样式正确

## 预期输出示例

```
面具完整度系统初始化完成，当前值: 50
UIManager: 成功连接到TaskManager的面具完整度信号
测试任务添加完成，共添加 4 个任务

# 按空格键时:
面具完整度修改: 50 -> 45 (等级: 轻微破损)
UIManager: 面具完整度更新 - 50 -> 45 (轻微破损)

# 与对象交互时:
与 TestObject1 交互，面具影响: -5
面具完整度变化: 45 -> 40 (等级: 中度破损)
内心独白触发: 这个简单的交互让我的面具出现了裂痕...
```

## 故障排除

如果测试失败:

1. **检查控制台错误信息**
2. **验证所有脚本已附加到正确节点**
3. **检查信号连接是否正确**
4. **确认自动加载设置正确**

## 成功标准

✅ 所有测试通过表示集成成功:
- 面具完整度系统正常工作
- 任务系统与面具系统正确集成
- UI 正确显示所有信息
- 交互对象正确触发面具变化
- 内心独白和选择系统正常工作