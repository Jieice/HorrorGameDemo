# 游戏核心系统深度设计

在原有的构想上，我们引入一个更具体的系统来量化主角的心理变化：

“面具完整度” (Mask Integrity) 系统：

初始状态：0%。代表主角的真实自我。

增长机制：每当玩家在关键节点选择逃避、沉默或顺从（例如幼儿园里不反抗、小学被嘲笑时低头 、高中默默打扫），“面具完整度”就会上升。这些选择看似能避免当下的直接冲突，但却是在用一块块碎片“拼凑”出那张最终的、圆滑的“陌生人”面具。

影响：

低完整度：主角的内心独白充满痛苦、困惑和愤怒。环境中的幻觉更具攻击性（例如，嘲笑声更刺耳）。

高完整度：内心独白逐渐变得麻木、理性甚至冷酷 。例如，从“为什么他们要这样对我？”变为“……也许忍耐才是正确的。” 环境中的幻觉会从直接攻击，变为一种“诱导”，陌生人的身影会更频繁地出现，并用赞许的眼光看着你。

结局判定：最终的结局不完全取决于单一的最终选择，而是由“面具完整度”的阈值决定。例如，超过80%将强制进入“完全蜕变”结局。

章节剧本详尽扩写

# 序章 · 陌生人 — “宿命的序曲”

互动元素触发的内心独白 (强化版)

调查【破旧的挂钟】前:

内心独白: “这钟……早就停了吧？怎么好像还能听到微弱的滴答声……是我的错觉吗？还是说，在这里，连时间都会骗人。”

触发童年幻象后的内心独白:

内心独白: “又是这样……总是这样。突如其来的，不属于我的记忆。‘碍事’……吗？原来从那么早开始，我的存在……就已经是一种错误了。”

调查【角落的旧行李】时:

内心独白: “一张……全家福？不，只是一半的全家福。被撕掉的另一半……是被谁，还是被我……亲手毁掉了？我记不清了……或者说，我不敢记起。”

捡起【地上的旧票据】后:

内心独白: “这不是回忆……这是我的票。目的地被水晕开了，看不清楚……也好，去哪里都一样。反正……这场旅途，不是过去，就是现在。我终究是……逃不掉的。”

与【陌生人】的对话 (精细化)

陌生人: “……夜色真长，不是吗？” (他说话的语调很平，像是在陈述一个毋庸置疑的事实，而不是在提问。)

陌生人: “长得足够让一个人……（他在这里停顿了很久，仿佛在品味这句话）……忘记自己本来的样子。”

陌生人: （他的目光像手术刀一样剖析着主角，然后嘴角咧开一个没有温度的弧度）“看你的表情，是在等一趟……回家的车？”

陌生人: “回家啊……（他轻笑一声）……有时候，比流浪还冷。因为流浪是身冷，回家……是心冷。你觉得呢？”

【玩家选择：“疑惑：你到底是谁？”】

陌生人: “我？（他的笑容更深了）我是卸下包袱的你，是学会闭嘴的你，是你……未来要学的那张脸。”

陌生人: （他缓缓起身，凑近主角，声音压得极低，充满了腐朽的气息）“记住，石头因为太硬，所以只能被踩在脚下。人若想活下去，就要变得像水一样……就要戴上……（他的每个字都像冰锥一样扎入主角的耳朵）……面具。”

## 1\. 场景氛围与进入体验

游戏开始，画面从一片纯黑中缓缓亮起。玩家首先听到的是一种混杂着雨滴和老式换气扇转动的、沉闷的背景音。

视觉细节：

环境：玩家的视角首先聚焦于地面，一滩浑浊的积水倒映着天花板上接触不良的吊灯。灯光每闪烁一次，整个世界的色彩饱和度就瞬间降低，然后又在“滋滋”的电流声中恢复，仿佛整个空间都在苟延残喘。

墙壁：墙皮大面积脱落，露出暗红色的砖块。墙上贴着早已褪色的标语，如“讲文明，树新风”，但在灯光闪烁下，“文明”二字时隐时现，只剩下“讲_\_，树新风”，显得格外讽刺。雨水沿着墙角渗透，留下了地图一样的深色水渍，在主角凝视时，水渍的形状会隐约构成一张窥视的脸。

空气感：玩家能“看到”空气中的尘埃。当主角移动时，会带起微小的浮尘在光线下飞舞，强化了此处的密闭感和时间停滞感。空气中弥漫着老旧建筑特有的霉味和雨水的湿气。

听觉细节：

核心音效：脚步声在空旷的候车室里产生巨大而空洞的回响，每一次落步都像是投入深渊的石子。

背景音：远处断续的列车广播模糊不清，播报员的声音被拉长并混合了回音，听起来不像是在报站，更像是在为某个仪式吟诵悼词。

## 2\. 互动元素与环境叙事

A. 破旧的挂钟

：互动后，钟面倒映出主角童年的脸，耳边会响起一声严厉的呵斥：“哭个不停，碍事！” 。幻象一闪而逝。

B. 角落的旧行李

：调查后发现一张被撕掉一半的全家福 ，暗示着主角与“家”这个概念的疏离与破裂 。

C. 地上的旧票据

：拾起后发现，票据上的目的地模糊不清，但日期却是“今天” ，暗示这场旅途无法逃避 。

## 3\. 核心对话与人物塑造

当玩家完成探索后，视线会被引向长椅上的陌生人。

陌生人：“……夜色真长，不是吗？长得足够让一个人，忘记自己本来的样子。”

陌生人：（打量着主角）“看你的表情，是在等一趟……回家的车？”

陌生人：“回家啊……有时候，比流浪还冷。因为流浪是身冷，回家……是心冷。”

【

玩家选择：“疑惑：你到底是谁？”】

陌生人：（凑近主角，声音带着腐朽的气息）“记住，石头因为太硬，所以只能被踩在脚下。人若想活下去，就要变得像水一样……就要戴上面具。”

话音落下的瞬间，灯光熄灭，刺耳的列车汽笛声响起，白光吞噬一切。

**第一章 · 幼儿园 — “温暖的窒息”**

核心事件：“加衣”的完整对话文本

老师 (初次靠近，声音甜得发腻): “小明，到老师这儿来。你看你，小脸都冻红了，是不是冷呀？老师帮你把这件毛衣穿上，好不好？穿得暖暖的，才不会生病。”

主角内心独白: “老师在叫我……我做错了什么吗？为什么大家都看我？……我……我不是很冷啊。”

穿上第一件后:

老师: “真乖。哎呀，光穿毛衣还不够，外面风大，得再加一件外套才行。来，把手伸好。”

主角内心独白: “有点……热了。身上好重……我想说，但是……老师是为我好……我应该听话。”

玩家操作失败或迟疑时:

老师 (耐心开始消失): “哎呀，别动，袖子卡住了……你怎么这么不配合呢？老师是为了你好呀。你看其他小朋友，多乖。快一点，别让大家一直等你。”

第三件衣服，孩子们开始窃窃私语:

老师 (语气明显不耐烦): “还有这件背心！快穿上！磨磨蹭蹭的，就这么点事都做不好！你是想故意耽误大家的游戏时间吗？”

主角内心独白: “好重……喘不过气了。衣服像盔甲，不，是囚笼。我想把它脱掉……但是我不敢。他们在笑我吗？一定是在笑我……”

看到家长背影后的完整独白:

主角内心独白: “您……就这样走了吗？回头看我一眼啊……是我做错了什么吗？是不是因为我……不够乖？如果我再听话一点，穿衣服再快一点，您是不是就不会……把我一个人留在这里了？”

## 1\. 场景氛围深度刻画

这是一个被虚假暖色调包裹的牢笼 。墙上贴满了笑脸和花朵，但在主角眼中，那些笑脸的嘴角咧得过于夸张，像是无声的嘲讽 。阳光透过窗户照进来，却感觉不到丝毫暖意 。

新增细节：

视线压迫：教室的每一个角落都摆放着娃娃，它们的玻璃眼珠全都朝向主角所在的位置。当主角移动时，会感觉那些眼珠在跟着他转动。

听觉孤立：远处孩子们的欢笑声被一扇无形的门隔绝，显得遥远而失真 。主角能清晰听到的，只有自己越来越沉重的呼吸声，以及衣服摩擦的沙沙声。

内心独白：（刚进入场景时）“这里好亮……大家都在看我吗？我是不是站得不对？”

## 2\. 核心玩法与机制详述：“加衣”压迫玩法

老师以“为你好”的名义，将一件又一件衣服扔过来，玩家需要完成操作为自己“穿上” 。

玩法细化：

每成功穿上一件，主角的移动速度降低，屏幕四周出现逐渐扩大的暗角，模拟视野受限 。呼吸音效会变得越来越粗重，并伴有衣物摩擦的刺耳声音 。

如果操作失败，老师的讥讽声会响起：“磨磨蹭蹭的，就这么点事都做不好！” ，同时“面具完整度”+5% 。

新增机制：当衣服加到第三件时，其他孩子的虚影会出现在主角周围，他们围成一圈，用好奇又异样的目光盯着主角，并发出窃窃私语。这些私语声在音效上会做特殊处理，听不清具体内容，但充满了指向性。

当衣服加到第五件时，主角触发内心独白：“像是有人把石头压在胸口，每一次呼吸，都是在和自己战斗。……别看我了……求求你们，别再看我了。”

## 3\. 互动元素与环境叙事

墙角的玩具：一个被遗忘的布偶兔子，背部被撕开，棉花被掏空 。这象征着主角正在被“掏空”的内心 。

家长的背影：在被罚站时，玩家可以透过门上的小窗看到家长离去的背影 。这个背影会逐渐模糊、远去，象征着庇护的消失 。

新增独白：“您……就这样走了吗？回头看我一眼啊……”

**第二章 · 小学 — “喧嚣的审判”**

核心事件：“公开羞辱”的完整对话文本

老师 (春风满面地宣布): “同学们，安静！今天，我要在这里表扬一位同学！王小明同学的作品《我的城市》，在市里的少儿绘画比赛中，获得了一等奖！这是我们班级的荣誉！来，小明，站起来，让大家看看我们的小画家！”

主角内心独白: “他们……在为我鼓掌？原来被人注意……是这种感觉吗？暖洋洋的……好像……没那么可怕。”

老师 (语气180度转弯，将作文本摔在讲台): “但是！荣誉也会变成耻辱！尤其是当它被一个骄傲自大、不思进取的学生获得时！王小明！你以为你画了两笔画就了不起了吗？你的作文写得一塌糊涂！现在，就给我站在这儿，把你这篇不知所云的《我的理想》给大家念一遍！让大家都听听，我们的大画家，连话都说不清楚！”

主角内心独白: “为什么……？刚刚不是还在……夸我吗？我做错了什么？我说错了什么？光好刺眼……他们的眼神……像针一样……扎得我好痛……”

同学们的嘲讽 (具体化):

(窃窃私语) “我就说嘛，他怎么可能得奖。”

(大声起哄) “念啊！哑巴了？”

(尖酸刻薄) “哈哈哈，他的理想？理想是画‘家’里蹲吧！”

(恶意模仿) “‘我……的……理……想……是……’哈哈哈哈！”

## 1\. 场景氛围深度刻画

明亮的日光灯管将教室照得毫无死角，这种光明反而成了一种暴力，让主角的无助暴露无遗 。同学们的脸庞在主角眼中开始扭曲，他们的笑声不再清脆，而是混合了金属刮擦声和回音的魔音贯耳 。

新增细节：

视觉扭曲：黑板上的字迹像虫子一样蠕动变形 。墙上挂着的“三好学生”奖状，照片上的人脸会瞬间变成主角的样子，但表情是惊恐的。

内心独白：（被点名前）“千万别叫我，千万别叫我……我在角落里，他应该看不见我……”

## 2\. 核心玩法与机制详述：“嘲笑”音画攻击

当老师点名后，全班的目光（表现为数十道探照灯般的光束）会聚焦在主角身上 。

玩法细化：

笑声响起时，画面会剧烈晃动并出现色差分离效果 。

玩家选择【沉默】：画面晃动会减弱，但“面具完整度”+10% 。触发内心独白：“笑声像石子掷入我体内的井，起初还能激起水花，后来……井干了，只剩下石头撞击石头的回响。……也许，只要我装作听不见，这一切就会过去。”

玩家选择【回击】：主角站起来大喊，但他的声音会被更大的嘲笑声淹没，画面扭曲加剧，并触发老师更严厉的惩罚，最终“面具完整度”+15% 。

## 3\. 互动元素与环境叙事

办公室门口的名字牌：事后，玩家可以走到办公室门口，发现自己的名字牌掉在地上，被踩上了几个脚印 。捡起来，可以触发一段闪回：昨天老师正是为了表扬他绘画获奖而叫他去办公室，但这个“表扬”却成了他被公开羞辱的起因 。

新增独白：“原来……被看见，是一切痛苦的开始。”

**第三章 · 高中 — “善意的利刃”**

核心事件：“循环打扫”的完整对话文本

第一次请求:

卫生委员: “小明，谢啦！哎，你看你扫得真干净！比我扫得好多了。那个……能顺手把走廊也扫一下吗？就当帮我个忙，回头我请你喝可乐！”

主角内心独白: “他夸我了……他说我扫得干净。只是一点小事，能帮上忙……太好了。”

第二次请求:

卫生委员: “天啊，你简直是天使！太感谢了！……啊，对了，你看楼梯那儿……风把叶子都吹进来了，要不……就最后一下？真的最后一下了！大恩不言谢！”

主角内心独白: “再干净一点……把这里扫干净了，就像把心里的不安也扫掉了一样。只要我还有用，只要我还能帮上忙，他们就不会……讨厌我了吧？”

听到的对话 (完整版):

另一个同学: “哎，卫生委员，你又让王小明帮你搞卫生啊？”

卫生委员 (轻蔑地笑): “不然呢？有免费的劳动力干嘛不用。他那个人就是这样，你越是使唤他，他越是觉得你跟他关系好。跟他说两句好话，他什么都肯干。”

另一个同学: “哈哈，你可真损。不怕他听见？”

卫生委员: “听见就听见呗，他敢怎么样？明天我再夸他两句，他还不是一样屁颠屁颠地来帮忙。”

主角内心独白 (听到后): “……免费的……劳动力？关系好？原来……是这样吗？我做的所有事……我付出的小心翼翼的善意……在他们看来……就是……这么回事吗？……手里的扫帚……突然……好重。”

## 1\. 场景氛围深度刻画

黄昏时分的教学楼，走廊被拉得很长，空无一人，只有主角孤独的扫地声 。夕阳的余晖从窗外投射进来，将飞扬的尘埃染成金色，这些看似温暖的微粒，却像是无数监视着他的眼睛 。

新增细节：

听觉暗示：除了扫地声，玩家还能听到自己沉重的喘息声。远处的篮球场传来喝彩声，但那份热闹与主角的孤独形成了尖锐的对比。

内心独白：“只要我做得够好，够勤快，他们就不会注意到我有多……奇怪了吧？这样……应该就安全了。”

## 2\. 核心玩法与机制详述：“循环”与“爆发”

打扫任务被设计成一个小型循环 。卫生委员用客气的语气不断让主角帮忙，从教室到走廊，再到楼梯 。

玩法细化：

在循环中，主角扫出的垃圾会越来越诡异：幼儿园的笑脸贴纸、小学写满“错”字的作业本、甚至序章那张旧票据的碎片 。

当循环达到第三次，主角会无意中听到卫生委员和别人的对话：“他又跑来当马仔，真省心。” 。

爆发场景：真相大白后，玩家的“面具完整度”进行检定。如果低于50%，将触发激烈的【爆发】选项 。选择后，主角会掀翻垃圾桶，整个世界剧烈扭曲，墙皮脱落，所有同学的脸都变成了冷漠的、戴着面具的旁观者 。

新增效果：在爆发的瞬间，主角会发出一声压抑已久的怒吼，但音效处理上，这声怒吼是无声的，只有字幕和剧烈的画面震动来表现他的内心世界，以此凸显他长久以来的“失语”。

**第四章 · 蜕变 — “镜中的陌生人”**

【陌生人】的最终独白 (蛊惑的交响乐)

(穿行在记忆碎片中时，他的声音无处不在)

“你还不明白吗？痛苦的根源，不在于他们，而在于你那可笑的‘自我’。是它让你感到疼痛，是它让你彻夜难眠。你所谓的‘真心’，不过是用来被践踏的垃圾。你所谓的‘反抗’，不过是孩童无能的啼哭。”

“你以为你在坚持什么？可贵的原则？不，你只是在享受扮演‘受害者’的廉价快感。你沉溺在自己的痛苦里，并以此为荣，却从未想过，只要你愿意，你随时可以走出来。”

(站在镜子前，声音变得循循善诱)

“看看我。我没有痛苦，因为我舍弃了那份多余的自尊。我没有烦恼，因为我从不期待任何人的理解。我只是顺应，像水一样，流向最低的地方，所以……我永远不会受伤。这是一种智慧，不是懦弱。”

“来吧，把那个让你痛苦不堪的‘你’交给我。我会替你保管，替你埋葬。从今以后，你只需要微笑，点头，接受。你会发现，世界原来……如此简单。你再也不用害怕任何人的目光，因为你看他们的目光，也将和我一样。”

最终选择前的内心独白

【面具完整度低】: “不……不对……如果连痛苦都放弃了……那我还剩下什么？如果连我都不是我了……那活着的又是谁？！即使满身是伤，那也是我存在过的证明！”

【面具完整度高】: “……他说得对。太累了……我真的，太累了。反抗，挣扎，然后呢？什么都没有改变。也许……这样真的会轻松一点。就这样吧……结束这一切吧。”

# 任务系统

## 1\. 场景氛围深度刻画

这是一个由记忆碎片构成的破碎空间 。玩家将穿行在颠倒的幼儿园教室、倾斜的小学走廊和被垃圾淹没的高中课桌之间 。所有场景的背景音——哭声、嘲笑声、扫地声——杂乱地交织在一起，而陌生人那独特的低笑声则作为主旋律，贯穿始终 。

## 2\. 核心玩法与机制详述：最终的抉择

幻境的尽头是一面巨大的、一尘不染的镜子 。镜中的主角，表情麻木 。

对话与抉择：

陌生人（画外音）：“你看，学会弯腰，是不是就不疼了？”

陌生人：“你终于愿意学着做个世故的人了。来吧，成为我。”

镜中的自己会缓缓伸出手。此时，取决于“面具完整度”：

高完整度（>80%）：只有一个选项【拥抱镜子】 。主角不受控制地走上前，与镜中人融为一体。当他再次转身，他的脸上挂着那个油亮的、熟悉的笑容 。

低完整度（<80%）：出现两个选项【拥抱镜子】或【砸碎镜子】 。选择后者需要玩家在限定时间内连续按下按键，每一次敲击，镜面都会出现一道裂痕，并闪回一个曾经反抗或痛苦的瞬间 。最终，镜子彻底破碎，主角跪在黑暗中，虽然伤痕累累，但守住了自我 。

## 3\. 首尾呼应的闭环

在【蜕变结局】的最后，镜头拉远，主角正坐在序章的候车室里。一个迷茫的、和最初的你一模一样的年轻人推门而入。视角变为第一人称，你缓缓抬头，用沙哑的声音说出那句：“……夜色真长，不是吗？” ，故事结束，循环开始 。

在开始之前，让我们思考这样一个问题：**如果现在要让你为某个游戏设计一个任务系统，你会怎么做？**

这个问题从表面上看可能非常简单。那无非就是加载任务、看玩家做了什么然后更新这些任务，再做点什么花里胡哨的UI特效，对吧？对...对吗？

那么，先让我们来想一想一个任务系统都有哪些职责吧

### **1.1 任务的储存和读取**

首先肯定是**储存和读取任务**嘛。我们的任务系统总得先把任务读取进来才能管理它们。

那么问题来了：具体的**任务数据**应该怎么存储呢？一个任务里面有那么多描述、数据、关系、要求，怎么才能让它们以一种**结构化**的方式存在我们的游戏里呢？

这个时候就要请出这方面的专家了：JSON格式。

JSON是个什么东西呢？让我们看看大D老师怎么说

#### 只需要知道它对于人和机器来说，读写都很简单就好了

JSON刚好能够满足我们的要求：既能被程序结构化解析，人也能轻松的看懂。那么我们就用JSON来存储任务吧

### **1.2 任务的结构**

现在我们解决了怎么存的问题，那自然下一个问题就是“存什么”了。一个任务里面有什么呢？让我们看看其他游戏是怎么做的。

#### 超级柱头2，有需要优先完成的子任务和最后完成的主任务

#### 2077，一个任务的某个阶段可以包含多个子目标

我们可以大致总结一下任务在这些游戏里的表现：

一个**任务**由**多个任务阶段**组成。

以上面HD2为例，“建立通信上行链路”可以分为 **和终端互动**\-**拧信号塔**\-**再次和终端互动** 这三个阶段。

每个**任务阶段**中都存在一系列需要玩家完成的**目标**。

比如，**和终端互动**这个阶段就可以包含**输入启动指令**和**升起信号塔**这两个目标。

每个目标都有**目标描述**和**完成条件**。

当完成一定的目标以后，任务从**一个阶段进入下一个阶段**。

当完成了任务的**所有阶段**以后，这个任务就算完成了。

一个任务可以拥有一定的**前提条件**。只有当**前提条件**满足一定的规则时，这个任务才能被玩家接受（处于“解锁状态”）。

一个任务还可以拥有一个**接取条件**，只有当满足这个接取条件时，任务才算真正的被玩家“接受”了。

上述两种条件的区别可能会有点让人困惑。举一个例子：

一个“清剿某地区怪物”的任务可能需要玩家满足 **“到达等级10”**和 **“探索过XX地区”**这两个条件，才会在当地的冒险家协会NPC头顶上 **显示有可以接取的任务**。

当玩家和这个NPC **对话结束**，这个任务才能正式被玩家所接受，进入到玩家的人物列表里。

在这个例子里，“到达等级10”和“探索过XX地区”就是这个任务的**前提条件** ，“和冒险家协会NPC完成关于城郊怪物的对话”就是这个任务的**接取条件**。

到这里，任务**内容**我们已经总结的差不多了。但是为了让我们的任务系统能够正确的**读入、分类和管理**这些任务，我们还需要回答几个问题：

对于任务系统来说，没有什么简单可靠的方法来**区分和辨别不同的任务**呢？

游戏里会不会有主线任务、支线任务、委托任务等**任务种类**的区别呢？

为了回答上面这两个问题，我们可以再为任务添加两个属性：

每个任务都有自己唯一的**任务ID**。这样，只要通过判断ID，我们就能辨别不同的任务了。

每个任务都有一个**任务类型**。

现在，我们的任务结构大概看起来会像这样：

任务ID（必需）

任务类型（必需）

前置条件（多个，可选）

接取条件（一个，可选）

任务阶段（一个或多个，必需）

这个阶段的任务目标（一个或多个，必需）

目标描述

完成条件

本阶段的完成条件

现在，让我们来试着定义一下一个任务的JSON应该是什么样的吧

#### 大概长这样...？

现在我们又遇到问题了

我们怎么知道一个前置条件（或者一个任务目标）完成了呢？完成标准千变万化，怎么把它们统统写成一个统一的结构呢？

现在我们只能支持通过“完成所有前置条件”（或者“完成所有目标”）来判定任务可用或者一个任务阶段完成。如果需要更复杂的逻辑呢？

举个例子：

假设进入最终决战任务需要：

1\. 完成“打败不死人将军”或者“召唤恶灵”两个任务其一；

2\. 角色等级达到100级；

3\. 角色身上不能有“不洁”这个属性。

这种“前置条件之间的关系”就是 “任务前置条件的满足规则”；“任务阶段的满足规则”也是同理。

### **1.3 拆解“条件”**

其实，不管是目标也好，还是前置条件也好，它们都可以被统一抽象为“条件”，也就是“需要某个特定的条件被满足”。

上面提到的第一个问题，就可以简化成一个根本问题：**如何把一个“条件”拆解成一个可序列化的结构**

游戏里有些什么条件呢？我们可以列举一下：

对于玩家角色自身属性的要求（如，等级）

需要玩家持有某个物品（如，“秘密房间的钥匙” / “逝去英雄的佩剑” / ...）

需要玩家完成某个前置任务

需要玩家进行某个互动（如“打开墙上的电闸”）

需要玩家完成某个对话 / 剧情过场（如“和老铁匠交谈”）

需要玩家击杀指定的NPC （如“杀死3个史莱姆”）

可以发现，这些条件都可以被抽象成一种 **“做什么”+ 参数**的形式。以上面列举的为例：

要求玩家等级 >= 5（等级, 5）

要求玩家持有3个“失落的残片”（拥有物品, 失落的残片, 5）

需要玩家完成某个前置任务（完成任务, &lt;任务ID&gt;）

需要玩家打开墙上的电闸（场景互动, 电闸）

需要玩家和老铁匠交谈（完成对话, 老铁匠, &lt;对话ID&gt;）

需要玩家杀死3个史莱姆（杀死敌人, 史莱姆, 3）

那么，我们就可以把“条件”抽象成一个这样的结构：

#### 使用插件：CodeSnap

### **1.4 拆解“完成逻辑”**

现在，我们解决了条件怎么存的问题，那么**条件之间逻辑**的问题又该怎么解决呢

让我们再回到上面提到的例子：

进入最终决战需要：

1\. 完成“打败不死人将军”或者“召唤恶灵”两个任务其一；

2\. 角色等级达到100级；

3\. 角色身上不能有“不洁”这个属性。

按照上一节的内容，这个要求可以拆分成四个条件：

A: 完成任务, 打败不死人将军

B：完成任务, 召唤恶灵

C: 等级, 100

D: 属性, 不洁

那么最终的条件就可以抽象成**“A或者B选一个，并且需要C，并且不能有D”**。

前有数学，接下来布尔逻辑很有用。让我们来问问大D老师

想象一下一个电灯开关，它只有两种状态：

开 - 灯亮着

关 - 灯熄灭了

布尔逻辑就是一套专门处理这种“非黑即白”、“是或否”情况的规则。

在计算机世界里，我们用： True （真） 代表“是”、“开”、“成立” False （假） 代表“否”、“关”、“不成立”

**什么是布尔表达式？**

布尔表达式就是一个最终会得出 True 或 False 的提问或式子。你可以把它想象成一个只能回答“是”或“否”的问题。

一些简单的例子：

今天下雨了吗？ → 答案只能是 是 或 否。

我的银行余额大于100元吗？ → 答案只能是 是 或 否。

这个苹果是红色的吗？ → 答案只能是 是 或 否。

在编程中，这些表达式看起来像这样：

10 > 5 （10大于5吗？）→ 结果是 True

age >= 18 （年龄大于或等于18岁吗？）→ 根据变量 age 的值，可能是 True 或 False

name == "张三" （名字是“张三”吗？）→ 根据变量 name 的值，可能是 True 或 False

**布尔逻辑的三大基本操作**

为了组合这些“是/否”问题，我们使用三个最基本的逻辑运算符：AND， OR， NOT。

1\. AND （逻辑与，符号通常是 && 或 and）

含义： 所有条件 都必须 为真，结果才为真。

口语化： “并且”

例子： 我想找一个“高” \*\*并且\*\* “富有” \*\*并且\*\* “帅”的人。

在这里，三个条件（高、富有、帅）必须全部满足，结果才是 True。

只要有一个不满足（比如不高），结果就是 False。

2\. OR （逻辑或，符号通常是 || 或 or）

含义： 至少有一个条件为真，结果就为真。

口语化： “或者”

例子： 进入酒吧需要出示“身份证” \*\*或者\*\* “护照”。

在这里，你只要有身份证 或者 有护照 或者 两者都有，结果就是 True。

只有当你两样都没有时，结果才是 False。

3\. NOT （逻辑非，符号通常是 ! 或 not）

含义： 取反。把真的变成假的，假的变成真的。

口语化： “不/不是”

例子： \`NOT\` 下雨 （即“不下雨”）

如果 下雨 是 True，那么 不下雨 就是 False。

如果 下雨 是 False，那么 不下雨 就是 True。

**一个综合的生活实例**

想象一个自动门开启的条件： 如果 (有人靠近 \*\*并且\*\*NOT是宠物) \*\*或者\*\* 有人按了开门按钮，那么门就打开。

我们用布尔逻辑来分解一下：

有人靠近 是一个布尔表达式（True/False）

是宠物 是一个布尔表达式（True/False）

NOT 是宠物 就是“不是宠物”

有人靠近 AND (NOT 是宠物) 就是“有人靠近并且不是宠物”

有人按了开门按钮 是另一个布尔表达式

最终，如果第4步的结果 或者 第5步的结果为真，门就会打开。

有了这个，我们就可以把上面那个条件表达成这样一个简单的式子：**(A || B) && C && !D**

把ABCD字母替换成对应的条件ID，我们现在就可以明确的定义任意复杂的完成逻辑了。